---
phase: 04-github-publication-readme
plan: 02
type: execute
wave: 2
depends_on: ["04-01"]
files_modified:
  - README.md
  - LICENSE
autonomous: false

must_haves:
  truths:
    - "User can read what the server does and what tools are available"
    - "User can follow steps from zero to a working MCP server in Claude Desktop"
    - "User can create a Lightdash Personal Access Token following the guide"
    - "User can copy-paste Claude Desktop JSON config and have it work"
    - "User can diagnose common setup problems from the troubleshooting section"
    - "User can optionally configure CSV table output and Recharts chart artifacts"
  artifacts:
    - path: "README.md"
      provides: "Complete beginner-friendly documentation"
      min_lines: 150
      contains: "claude_desktop_config"
    - path: "LICENSE"
      provides: "MIT license file"
      contains: "MIT License"
  key_links:
    - from: "README.md"
      to: "Claude Desktop config file"
      via: "copy-paste JSON block"
      pattern: "mcpServers.*lightdash"
    - from: "README.md"
      to: "Lightdash PAT creation"
      via: "step-by-step instructions"
      pattern: "Personal Access Token"
---

<objective>
Write a comprehensive, beginner-friendly README.md that takes a non-engineer Claude Desktop user from zero to a working Lightdash MCP server.

Purpose: The README is the primary (and likely only) documentation users will read. It must cover all 6 DOCS requirements: tool overview, prerequisites, PAT creation, Claude Desktop config, troubleshooting, and optional preferences. The audience is people comfortable using Claude Desktop but NOT necessarily familiar with terminals, git, or Node.js.
Output: README.md and LICENSE committed and pushed to the GitHub repo.
</objective>

<execution_context>
@/Users/mikhailgasanov/.claude/get-shit-done/workflows/execute-plan.md
@/Users/mikhailgasanov/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-github-publication-readme/04-01-SUMMARY.md
@src/index.ts
@package.json
@deploy.sh
</context>

<tasks>

<task type="auto">
  <name>Task 1: Write README.md</name>
  <files>README.md</files>
  <action>
Create README.md at the project root. The audience is Claude Desktop users who may not be engineers. Write in plain language, avoid jargon, explain every terminal command. Use this exact structure:

**1. Title and tagline** (DOCS-01)
```
# Lightdash MCP Server
Give Claude Desktop read-only access to your Lightdash projects, charts, dashboards, and queries.
```

**2. What This Does section** (DOCS-01)
- One paragraph explaining: this is an MCP server that connects Claude Desktop to Lightdash so you can ask Claude questions about your BI data.
- Brief explanation of what MCP is (one sentence -- "MCP is a protocol that lets Claude Desktop talk to external tools").

**3. Available Tools table** (DOCS-01)
List all 10 tools in a markdown table with two columns: Tool Name and What It Does.
Use the actual tool names from the codebase:
| Tool | What It Does |
|------|-------------|
| `lightdash_ping` | Test that the connection to Lightdash is working |
| `list_projects` | List all projects in your Lightdash organization |
| `list_spaces` | List spaces within a project |
| `search_charts` | Search for charts by name |
| `list_dashboards` | List dashboards, optionally filtered by name |
| `list_explores` | List available explores (data models) in a project |
| `get_chart` | Get the full configuration of a saved chart |
| `get_chart_results` | Run a saved chart and get its data |
| `get_explore` | Get the schema of an explore (dimensions and metrics) |
| `run_raw_query` | Run a custom query against an explore with filters and sorts |

**4. Prerequisites section** (DOCS-02)
Step-by-step with exact commands. Assume macOS (the user's platform). Number each step.

Step 1: Check if Node.js is installed
```
node --version
```
"If you see a version number (v18 or higher), you're good. If you get 'command not found', install Node.js from https://nodejs.org/ -- download the LTS version and run the installer."

Step 2: Check if Git is installed
```
git --version
```
"If you see a version number, you're good. If not, macOS will prompt you to install Command Line Tools -- click Install and wait."

**5. Installation section** (DOCS-02)
Numbered steps:

Step 1: Open Terminal (explain: Spotlight > type Terminal > press Enter)

Step 2: Clone the repository
```
git clone https://github.com/{USERNAME}/lightdash-mcp.git
cd lightdash-mcp
```
IMPORTANT: Replace {USERNAME} with the ACTUAL GitHub username from the 04-01-SUMMARY.md. If not available, discover via `gh api user --jq '.login'` or `git remote get-url origin`.

Step 3: Install dependencies
```
npm install
```

Step 4: Build the server
```
npm run build
```

**6. Creating a Lightdash Personal Access Token** (DOCS-03)
Step-by-step with Lightdash UI navigation:
1. Open your Lightdash instance in a browser
2. Click your avatar/initials in the bottom-left corner
3. Select "Settings" (or go directly to `https://your-lightdash-instance.com/generalSettings/password`)
4. In the left sidebar, click "Personal Access Tokens"
5. Click "Generate new token"
6. Give it a name (e.g., "Claude Desktop")
7. Click "Create token"
8. Copy the token immediately -- you won't see it again

Add a note: "This token gives read-only access to your Lightdash data. Keep it private."

**7. Configure Claude Desktop** (DOCS-04)
Step-by-step:

Step 1: "Open Claude Desktop, then open Settings (gear icon or Cmd+,)"

Step 2: "Click 'Developer' in the left sidebar, then click 'Edit Config'"

Step 3: "This opens the file `claude_desktop_config.json`. Replace its contents with:" (or "Add the following inside the mcpServers object if you already have other MCP servers:")

Provide TWO code blocks:

First -- "If this is your only MCP server (replace the entire file):"
```json
{
  "mcpServers": {
    "lightdash": {
      "command": "node",
      "args": ["/FULL/PATH/TO/lightdash-mcp/build/index.js"],
      "env": {
        "LIGHTDASH_API_KEY": "your-personal-access-token",
        "LIGHTDASH_API_URL": "https://your-lightdash-instance.com"
      }
    }
  }
}
```

Second -- "If you already have other MCP servers, add just the lightdash entry inside mcpServers:"
```json
"lightdash": {
  "command": "node",
  "args": ["/FULL/PATH/TO/lightdash-mcp/build/index.js"],
  "env": {
    "LIGHTDASH_API_KEY": "your-personal-access-token",
    "LIGHTDASH_API_URL": "https://your-lightdash-instance.com"
  }
}
```

Add clear callouts:
- "Replace `/FULL/PATH/TO/lightdash-mcp` with the actual path where you cloned the repo. For example, if you cloned into your home directory: `/Users/yourname/lightdash-mcp/build/index.js`"
- "Replace `your-personal-access-token` with the token you copied from Lightdash"
- "Replace `https://your-lightdash-instance.com` with your actual Lightdash URL (e.g., `https://app.lightdash.cloud` or your self-hosted URL). Do NOT include `/api/v1` -- the server adds this automatically."

Step 4: "Save the file and restart Claude Desktop (Cmd+Q, then reopen)"

Step 5: "Verify: start a new chat in Claude Desktop and ask: 'Use the lightdash_ping tool to test the connection'. Claude should confirm the connection is working."

**8. Troubleshooting section** (DOCS-05)
Use an expandable `<details>` section for each problem. Cover these common issues:

a) **"Could not connect to MCP server"**
   - Most common cause: wrong path in `args`. Double-check the path exists:
     ```
     ls /FULL/PATH/TO/lightdash-mcp/build/index.js
     ```
   - Also check: Did you run `npm run build`? The build/ folder must exist.

b) **"LIGHTDASH_API_KEY is not set" or "LIGHTDASH_API_URL is not set"**
   - You're missing the `env` section in your Claude Desktop config. Make sure both `LIGHTDASH_API_KEY` and `LIGHTDASH_API_URL` are set.

c) **"401 Unauthorized" errors**
   - Your Personal Access Token is invalid or expired. Create a new one in Lightdash Settings > Personal Access Tokens.

d) **"ECONNREFUSED" or "ENOTFOUND" errors**
   - Your `LIGHTDASH_API_URL` is wrong. Make sure it's your actual Lightdash URL without `/api/v1` at the end.

e) **Tools not showing up in Claude Desktop**
   - Restart Claude Desktop completely (Cmd+Q, reopen)
   - Check that the config JSON is valid (no trailing commas, matching braces)

f) **"npm: command not found"**
   - Node.js is not installed. Download from https://nodejs.org/ (LTS version) and restart Terminal.

**9. Optional: Claude Desktop Preferences** (DOCS-06)
Title: "Optional: Improve Claude's Output"

Explain: "You can add instructions to Claude Desktop's preferences so Claude formats Lightdash data nicely by default."

Sub-section: **CSV Tables**
"Go to Claude Desktop Settings > General. In 'How would you like Claude to behave?' add:"
```
When showing tabular data from Lightdash, format it as a CSV code block for easy copying.
```

Sub-section: **Chart Artifacts**
"In the same preferences box, add:"
```
When I ask for charts or visualizations of Lightdash data, create them as artifacts using Recharts (a React charting library that Claude Desktop supports natively).
```

Explain: "With this preference, when you ask Claude to chart your Lightdash data, it will create interactive charts right in the conversation using Recharts."

**10. License section**
```
## License

MIT
```

IMPORTANT NOTES for writing style:
- Write for someone who uses Claude Desktop daily but has never used a terminal before today
- Every terminal command should be in a code block with a brief explanation of what it does
- Use "you" language, not "the user"
- No abbreviations without explanation (e.g., spell out "Personal Access Token" before using "PAT")
- Keep paragraphs short (2-3 sentences max)
- Use numbered steps for any sequential process
  </action>
  <verify>
- README.md exists at project root
- Contains all required sections: tools table (10 tools), prerequisites, installation, PAT creation, Claude Desktop config, troubleshooting (6+ issues), optional preferences
- Contains valid JSON code blocks for Claude Desktop config
- Contains actual GitHub repo URL (not placeholder)
- Line count is at least 150 lines (comprehensive content)
- `grep -c "lightdash_" README.md` returns 10 (all tool names mentioned)
  </verify>
  <done>README.md covers all 6 DOCS requirements (DOCS-01 through DOCS-06) with beginner-friendly language, complete code examples, and actual repo URL</done>
</task>

<task type="auto">
  <name>Task 2: Create LICENSE file, commit README and push</name>
  <files>LICENSE, README.md</files>
  <action>
1. Create MIT LICENSE file at project root with the standard MIT license text. Set the year to 2025 and the copyright holder name from `git config user.name`.

2. Stage and commit README.md and LICENSE: `docs: add README and MIT license`

3. Push to GitHub: `git push origin main` (or master, whichever is current).

4. Verify the README renders correctly: `gh repo view --json url --jq '.url'` and note the URL.
  </action>
  <verify>
- `git log --oneline -1` shows the docs commit
- `gh api repos/{owner}/lightdash-mcp/readme --jq '.name'` returns `README.md`
- LICENSE file exists with MIT text
- `git status` shows clean working tree
  </verify>
  <done>README.md and LICENSE are committed and pushed. GitHub repo shows rendered README on the main page.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 3: Verify README on GitHub</name>
  <files>README.md</files>
  <action>
Pause for human verification. The README has been written and pushed to GitHub. The user needs to visually confirm it renders correctly and the content is complete.
  </action>
  <verify>User confirms the README looks good on GitHub</verify>
  <done>User approved the README rendering and content on GitHub</done>
  <what-built>Complete README.md with installation guide, tool reference, PAT creation steps, Claude Desktop config, troubleshooting, and optional preferences. Pushed to the public GitHub repo.</what-built>
  <how-to-verify>
    1. Visit the GitHub repo URL (will be printed during execution)
    2. Verify the README renders correctly on the repo main page
    3. Check that:
       - The tools table shows all 10 tools
       - The JSON config blocks render properly
       - The troubleshooting expandable sections work
       - The clone URL in the README matches the actual repo
    4. Try the installation flow mentally or on a fresh terminal:
       - Does `git clone {url}` with the shown URL make sense?
       - Are the paths in the Claude Desktop config clear?
  </how-to-verify>
  <resume-signal>Type "approved" or describe any issues with the README</resume-signal>
</task>

</tasks>

<verification>
- [ ] README.md exists and is rendered on GitHub
- [ ] README covers what the server does (DOCS-01)
- [ ] README lists all 10 tools with descriptions (DOCS-01)
- [ ] README has step-by-step prerequisites -- Node.js, Git (DOCS-02)
- [ ] README has step-by-step installation -- clone, npm install, npm run build (DOCS-02)
- [ ] README has Lightdash PAT creation guide (DOCS-03)
- [ ] README has Claude Desktop config with copy-paste JSON (DOCS-04)
- [ ] README has troubleshooting section with 6+ common issues (DOCS-05)
- [ ] README has optional preferences for CSV tables and Recharts charts (DOCS-06)
- [ ] LICENSE file exists with MIT text
</verification>

<success_criteria>
DOCS-01 through DOCS-06 are complete: a non-engineer can follow the README from discovering the repo to having a working Lightdash MCP server in Claude Desktop, can troubleshoot common problems, and can optionally configure output preferences.
</success_criteria>

<output>
After completion, create `.planning/phases/04-github-publication-readme/04-02-SUMMARY.md`
</output>
